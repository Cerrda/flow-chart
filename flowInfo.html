<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>流程信息</title>
    <link rel="stylesheet" href="./elementui/index.css" />
    <link rel="stylesheet" href="./css/flowInfo.css" />
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <div id="app" v-cloak>
      <el-card>
        <!-- <el-button type="primary" icon="el-icon-plus">添加流程</el-button> -->
        <div slot="header">
          <span>流程信息</span>
          <div class="button">
            <el-button
              :disabled="multipleSelection.length === 0"
              type="primary"
              plain
              icon="el-icon-refresh-right"
              @click="refreshFlow"
              >刷新选中流程</el-button
            >
            <el-button type="primary" plain icon="el-icon-plus" @click="addFlow">添加流程</el-button>
          </div>
        </div>
        <el-table :data="tableData" @selection-change="selectionChange" stripe style="width: 100%" height="86vh">
          <el-table-column type="selection" width="55"> </el-table-column>
          <el-table-column type="index" width="50"> </el-table-column>
          <el-table-column prop="totalFlowName" label="系统名称"> </el-table-column>
          <el-table-column prop="groupId" label="系统所属系统ID"> </el-table-column>
          <el-table-column label="操作">
            <template slot-scope="scope">
              <el-tooltip content="编辑流程" placement="top">
                <el-button
                  class="operate-button"
                  type="text"
                  icon="el-icon-edit-outline"
                  @click="editFlow(scope.row.id)">
                </el-button>
              </el-tooltip>
              <el-tooltip content="删除流程" placement="top" class="del-tooltip">
                <el-popconfirm title="确定删除该流程吗？" @confirm="delFlow(scope.row.id)">
                  <el-button slot="reference" class="operate-button" type="text" icon="el-icon-delete"> </el-button>
                </el-popconfirm>
              </el-tooltip>
              <el-tooltip content="刷新流程" placement="top">
                <el-button
                  @click="refreshFlow(scope.row.id)"
                  class="operate-button"
                  type="text"
                  icon="el-icon-refresh-right">
                </el-button>
              </el-tooltip>
            </template>
          </el-table-column>
        </el-table>
      </el-card>
    </div>

    <script src="./axios/axios.min.js"></script>
    <script src="./vue/vue@2.js"></script>
    <script src="./elementui/index.js"></script>
    <script src="./js/flowInfoApi.js"></script>
    <script src="./js/request.js"></script>
    <script src="./js/flowInfo.js"></script>
  </body>
</html>
